/**
 * =================================================================
 * ESTILOS PARA MODO SOLO LECTURA - BLOCKNOTE
 * =================================================================
 * Descripción: CSS para deshabilitar interactividad manteniendo el tema
 * Versión: 4.0
 * Fecha: 11 de Agosto, 2025
 * =================================================================
 */

/* ===== OCULTAR SOLO CONTROLES INTERACTIVOS EN MODO READONLY ===== */

/* Ocultar SOLO el dropdown/selector en modo readonly, pero mantener el indicador de lenguaje */
.bn-editor[data-editable="false"] .mantine-Select-root button,
.bn-editor[data-editable="false"] .mantine-Combobox-root button,
.bn-editor[data-editable="false"] .bn-code-block .mantine-Select-root,
.bn-editor[data-editable="false"] .bn-code-block .mantine-Combobox-root {
  display: none !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* Ocultar otros controles pero mantener funcionalidad de syntax highlighting */
.bn-editor[data-editable="false"] .bn-formatting-toolbar,
.bn-editor[data-editable="false"] .bn-slash-menu,
.bn-editor[data-editable="false"] .bn-drag-handle,
.bn-editor[data-editable="false"] .bn-resize-handle,
.bn-editor[data-editable="false"] .bn-block-handle {
  display: none !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* Deshabilitar edición pero permitir selección de texto */
.bn-editor[data-editable="false"] {
  cursor: default !important;
}

.bn-editor[data-editable="false"] * {
  cursor: default !important;
  user-select: text !important;
}

/* NO ocultar el contenido, solo deshabilitar edición */
.bn-editor[data-editable="false"] [contenteditable] {
  cursor: default !important;
  user-select: text !important;
}

/* Estilo mejorado para bloques de código readonly */
.bn-editor[data-editable="false"] .bn-code-block {
  border: 1px solid #e5e7eb !important;
  border-radius: 8px !important;
  background: #f8fafc !important;
  padding: 16px !important;
  margin: 8px 0 !important;
  position: relative !important;
}

/* Dark mode para bloques de código readonly */
[data-mantine-color-scheme="dark"] .bn-editor[data-editable="false"] .bn-code-block {
  background: #1f2937 !important;
  border-color: #374151 !important;
}

/* ===== NO SOBRESCRIBIR COLORES DE TEXTO - DEJAR QUE BLOCKNOTE LOS MANEJE ===== */

/* Remover outline en modo readonly */
.bn-editor[data-editable="false"] *:focus,
.bn-editor[data-editable="false"] *:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

/* Mantener estilos de tabla readonly */
.bn-editor[data-editable="false"] table,
.bn-editor[data-editable="false"] td,
.bn-editor[data-editable="false"] th {
  pointer-events: none !important;
  user-select: text !important;
}

/* Ocultar controles de tabla */
.bn-editor[data-editable="false"] .bn-table-controls,
.bn-editor[data-editable="false"] .bn-table-handle {
  display: none !important;
}

/* ===== PERMITIR QUE BLOCKNOTE MANEJE TODO EL THEMING ===== */

/* Solo resetear color base del contenedor para evitar conflictos con prose */
.blocknote-viewer .bn-editor {
  color: inherit !important;
}

/* NO hacer override de ningún color - dejar que BlockNote maneje TODO */
/* Esto incluye syntax highlighting, temas, y todos los estilos visuales */

/* Estilo para el wrapper readonly - SOLO estructura, NO colores */
.blocknote-readonly .bn-editor {
  border: 1px solid #e5e7eb !important;
  border-radius: 8px !important;
  padding: 12px !important;
  /* NO background para permitir que BlockNote maneje el theming */
}

/* Dark mode para wrapper readonly - SOLO border */
[data-mantine-color-scheme="dark"] .blocknote-readonly .bn-editor {
  border-color: #1e293b !important;
  /* NO color ni background - BlockNote lo maneja automáticamente */
}
